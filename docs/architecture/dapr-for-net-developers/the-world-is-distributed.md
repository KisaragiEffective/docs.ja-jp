---
title: 世界は分散型
description: モノリシックおよび SOA アプローチを使用した分散アプリケーションの利点と課題。
author: robvet
ms.date: 02/07/2021
ms.openlocfilehash: b857355880c3942526d751312d98f2b822704759
ms.sourcegitcommit: 42d436ebc2a7ee02fc1848c7742bc7d80e13fc2f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/04/2021
ms.locfileid: "102401426"
---
# <a name="the-world-is-distributed"></a>世界は分散型

「クールな子供」と聞いてみてください。*最新の分散システムはにあり、モノリシックアプリはありません*。

しかし、"すばらしい子供" ではありません。 最先端の IT リーダー、企業のアーキテクト、ずる賢いの開発者は、最新の分散アプリケーションを探索して評価する際に、これらと同じ考えをお試しください。 多くの製品が購入されています。 分散マイクロサービスアプリケーションの原則、パターン、プラクティスに従って、既存のエンタープライズアプリケーションを新規に設計し、基幹しています。

しかし、この進化によって多くの質問が発生します...

- 分散アプリケーションとは何ですか。
- なぜ人気が高まっているのでしょうか。
- コストはどのようなものですか?
- そして、トレードオフとは何でしょうか。

まず、過去15年間を巻き戻して見てみましょう。 この期間中は、通常、単一のモノリシックユニットとしてアプリケーションを構築しています。 図1-1 にアーキテクチャを示します。

![モノリシックアーキテクチャ。](./media/the-world-is-distributed/monolithic-design.png)

**(図 1-1)** 。 モノリシックアーキテクチャ。

注文、Id、およびマーケティングのモジュールが単一サーバープロセスで実行されるしくみに注意してください。 アプリケーションデータは、共有データベースに格納されます。 ビジネス機能は、HTML および RESTful インターフェイスを介して公開されます。

多くの点でモノリシックアプリは `straightforward` です。 次のような簡単な方法です。

- Build
- テスト
- デプロイ
- トラブルシューティング
- 垂直方向にスケール (スケールアップ)

ただし、モノリシックアーキテクチャでは大きな課題が生じる可能性があります。

時間が経つにつれて、制御が失われる可能性があります。

- モノリスは、1人のユーザーがそれを理解しなくても、overwhelmingly が複雑になっています。
- それぞれが意図せずコストの高い副作用をもたらすため、変更を加えることになります。
- 新機能と修正プログラムは、時間がかかり、実装にコストがかかるようになります。
- 最小限の変更でも、アプリケーション全体を完全に展開する必要があります (コストとリスクがあります)。
- 不安定なコンポーネントの1つは、システム全体をクラッシュさせる可能性があります。
- 新しいテクノロジやフレームワークを追加することはできません。
- アジャイル配信手法の実装は困難です。
- アーキテクチャ erosion は、をコードベース悪化として設定します。
- 最終的には、コンサルタントが登場し、再作成するように指示されます。

IT 専門家は、この条件 `the Fear Cycle` を呼び出します。 どのような時間でもテクノロジを使用していた場合は、経験があると思います。 負荷があり、IT 予算を使い果たしています。 新しい革新的なソリューションを構築するのではなく、ほとんどの予算をレガシアプリの保守に費やします。

心配する必要は `speed and agility` ありません。 彼らは、市場の状況に迅速に対応できるアーキテクチャスタイルを模索しています。 ライブアプリケーションの小さな領域を瞬時に更新し、個別にスケールする必要があります。

速度と機敏性を実現するための早期の試みは、 [サービス指向アーキテクチャ](https://en.wikipedia.org/wiki/Service-oriented_architecture)またはの形になりました `SOA` 。 このモデルでは、サービスコンシューマーおよびサービスプロバイダーはミドルウェアメッセージングコンポーネント (多くの場合、 [エンタープライズ Service Bus](https://en.wikipedia.org/wiki/Enterprise_service_bus)と呼ばれます) を介して共同で使用さ `ESB` れます。 図1-2 にアーキテクチャを示します。

![SOA.](./media/the-world-is-distributed/soa-basic.png)

**図 1-2**. SOA アーキテクチャ。

SOA を使用して、ESB に登録された一元化されたサービスプロバイダー。 ビジネスロジックは、プロバイダーとコンシューマーを統合するために ESB に組み込まれています。 サービスコンシューマーは、ESB を使用してこれらのプロバイダーを見つけて通信できます。

SOA の約束にもかかわらず、多くの場合、このアプローチを実装すると複雑さが増し、ボトルネックが発生します。 メンテナンスコストが高くなり、ESB ミドルウェアの負荷が高くなりました。 サービスは大きくなる傾向があります。 多くの場合、依存関係とデータストレージが共有されています。 最後に、SOAs によって、変更に対する耐性のある一元化されたサービスを含む "分散モノリシック" 構造が発生することがよくあります。

今日、多くの組織は、システムの構築に分散マイクロサービスアーキテクチャアプローチを採用することで、速度と機敏性を実現しています。 図1-3 は、分散技術およびプラクティスを使用して構築された同じシステムを示しています。

![分散アーキテクチャ。](./media/the-world-is-distributed/distributed-design.png)

**図 1-3**. 分散アーキテクチャ。

分散サービスのセット全体で同じアプリケーションが分解されるしくみに注意してください。 各は自己完結型であり、独自のコード、データ、および依存関係をカプセル化します。 各は、ソフトウェアコンテナーに展開され、コンテナー orchestrator によって管理されます。 1つのデータベースが複数のサービスで共有されるのではなく、各サービスがプライベートデータベースを所有します。 他のサービスは、このデータベースに直接アクセスできず、それを所有するサービスのパブリック API を介して公開されているデータのみを取得できます。 一部のサービスでは、完全なリレーショナルデータベースを必要としますが、他のサービスでは NoSQL データストアを必要とします。 バスケットサービスは、その状態を分散キー/値キャッシュに格納します。 受信トラフィックが API ゲートウェイサービス経由でルーティングするしくみに注意してください。 サービスへの呼び出しを指示し、横断的な懸念を適用する責任があります。 最も重要なのは、アプリケーションは、最新のクラウドプラットフォームで検出されたスケーラビリティ、可用性、回復性の機能を最大限に活用することです。

しかし、分散サービスは機敏性と速度を提供できますが、さまざまな課題があります。 次の点を考慮してください。

- 分散サービスは相互に検出し、同期的に通信するにはどうすればよいですか。
- 非同期メッセージングを実装するにはどうすればよいですか。
- トランザクション全体でコンテキスト情報を管理するにはどうすればよいですか。
- 障害に対する回復力はどのようになりますか。
- 変動する需要に合わせて拡張するにはどうすればよいでしょうか。
- どのように監視および観察されますか。

これらの課題については、多くの場合、複数の製品を使用できます。 しかし、製品の違いからアプリケーションをシールドし、コードの保守性と移植性を維持することは困難になります。

この書籍では、Dapr が導入されています。 Dapr は、分散アプリケーションランタイムです。 これは、分散アプリケーションと共に発生する多くの課題に直接対応します。 今後、Dapr は、分散アプリケーションの開発に大きな影響を与える可能性があります。

## <a name="summary"></a>まとめ

この章では、分散アプリケーションの導入について説明しました。 比較のシステムアプローチは、分散サービスの場合と同じです。 分散型のアプローチを検討する際には、一般的な課題の多くを指摘しています。

ここでは、Dapr の新しい世界を紹介します。

>[!div class="step-by-step"]
>[前へ](foreword.md)
>[次へ](dapr-at-20000-feet.md)
