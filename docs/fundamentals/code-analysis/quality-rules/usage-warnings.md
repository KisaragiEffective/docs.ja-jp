---
title: 使い方の規則 (コード分析)
description: コード分析の使い方の規則について説明します。
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- vs.codeanalysis.usagerules
helpviewer_keywords:
- rules, usage
- managed code analysis rules, usage rules
- usage rules
author: gewarren
ms.author: gewarren
ms.openlocfilehash: b05edde3c6faef39aa724dd49d159abe23d049f5
ms.sourcegitcommit: 05d0087dfca85aac9ca2960f86c5efd218bf833f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/30/2021
ms.locfileid: "102102972"
---
# <a name="usage-rules"></a>使い方の規則

使い方の規則で、.NET の適切な使い方をサポートします。

## <a name="in-this-section"></a>このセクションの内容

|ルール|説明|
|----------|-----------------|
|[CA1801:使用されていないパラメーターの確認](ca1801.md)|メソッドのシグネチャに、メソッドの本体で使用されていないパラメーターがあります。|
|[CA1816:GC.SuppressFinalize を正しく呼び出します](ca1816.md)|Dispose を実装するメソッドが `GC.SuppressFinalize` を呼び出していないか、`Dispose` を実装しないメソッドが `GC.SuppressFinalize` を呼び出しています。または、あるメソッドが `GC.SuppressFinalize` を呼び出し、`this` (Visual Basic では `Me`) 以外のオブジェクトを渡しています。|
|[CA2200:スタック詳細を保持するために再度スローします](ca2200.md)|例外が再スローされ、その例外が throw ステートメントで明示的に指定されています。 throw ステートメントで例外を指定して例外が再スローされると、例外をスローした元のメソッドと現在のメソッドの間で呼び出されたメソッドの一覧は失われます。|
|[CA2201:予約された例外の種類を発生させません](ca2201.md)|これにより、元のエラーの検出およびデバッグが困難になります。|
|[CA2207:値型のスタティック フィールドのインラインを初期化します](ca2207.md)|値型で明示的な静的コンストラクターを宣言しています。 この規則違反を修正するには、静的データが宣言されたとき、および静的コンストラクターを削除するときに、静的データをすべて初期化します。|
|[CA2208:引数の例外を正しくインスタンス化します](ca2208.md)|ArgumentException またはそのクラスから派生した例外の種類の既定 (パラメーターなし) のコンストラクターに対して呼び出しが行われたか、ArgumentException またはそのクラスから派生した例外の種類のパラメーター付きのコンストラクターに不適切な文字列型の引数が渡されました。|
|[CA2211:非定数フィールドは表示されません](ca2211.md)|定数でも読み取り専用でもない静的フィールドは、スレッド セーフではありません。 このようなフィールドへのアクセスは、慎重に制御してください。また、クラス オブジェクトへのアクセスを同期するには、高度なプログラミング技術が必要です。|
|[CA2213:破棄可能なフィールドは破棄されなければなりません](ca2213.md)|<xref:System.IDisposable?displayProperty=fullName> を実装する型が、`IDisposable` も実装する型を持つフィールドを宣言しています。 このフィールドの `Dispose` メソッドは、宣言している型の `Dispose` メソッドから呼び出されていません。|
|[CA2214:コンストラクターのオーバーライド可能なメソッドを呼び出しません](ca2214.md)|コンストラクターから仮想メソッドを呼び出すと、メソッドを呼び出すインスタンスのコンストラクターが実行されないことがあります。|
|[CA2215:Dispose メソッドが基底クラスの Dispose を呼び出す必要があります](ca2215.md)|破棄可能な型から継承している型では、それ自体の `Dispose` メソッドから基本データ型の `Dispose` メソッドを呼び出す必要があります。|
|[CA2216:破棄可能な型はファイナライザーを宣言しなければなりません](ca2216.md)|<xref:System.IDisposable?displayProperty=fullName> を実装し、アンマネージ リソースの使用を提案するフィールドが含まれる型が、`Object.Finalize` で記述されているようにファイナライザーを実装していません。|
|[CA2217:列挙型を FlagsAttribute に設定しません](ca2217.md)|外部から参照できる列挙型が `FlagsAttribute` でマークされ、その列挙型に、2 の累乗でもなく、その列挙型で定義されている他の値の組み合わせでもない値が 1 つ以上含まれています。|
|[CA2218:オーバーライドする Equals で GetHashCode をオーバーライドします](ca2218.md)|パブリック型で <xref:System.Object.Equals%2A?displayProperty=fullName> をオーバーライドしていますが、<xref:System.Object.GetHashCode%2A?displayProperty=fullName> をオーバーライドしていません。|
|[CA2219:exception 句に例外を発生させないでください](ca2219.md)|finally 句または fault 句で例外が発生すると、アクティブな例外が新しい例外によって隠されます。 filter 句で例外が発生すると、ランタイムがその例外を暗黙的にキャッチします。 これにより、元のエラーの検出およびデバッグが困難になります。|
|[CA2224:オーバーロードする演算子 equals で Equals をオーバーライドします](ca2224.md)|パブリック型で等値演算子が実装されていますが、<xref:System.Object.Equals%2A?displayProperty=fullName> がオーバーライドされていません。|
|[CA2225:演算子オーバーロードには名前付けされた代替が存在します](ca2225.md)|演算子のオーバーロードが検出され、予想される名前の代替メソッドが検出されませんでした。 名前付きの代替メンバーによって、演算子と同じ機能へアクセスできるようになります。また、演算子のオーバーロードをサポートしていない言語でプログラミングする場合でも、その代替メンバーを使用できます。|
|[CA2226:演算子は対称型オーバーロードを含まなければなりません](ca2226.md)|型で等値演算子または非等値演算子を実装し、逆の働きをする演算子を実装していません。|
|[CA2227:Collection プロパティは読み取り専用でなければなりません](ca2227.md)|書き込み可能なコレクション プロパティにより、ユーザーはコレクションを異なるコレクションで置換できます。 読み取り専用プロパティは、コレクションを置換できないようにしますが、個別のメンバーが設定されることは回避できません。|
|[CA2229:シリアル化コンストラクターを実装します](ca2229.md)|この規則違反を修正するには、シリアル化コンストラクターを実装します。 シールされたクラスの場合、コンストラクターをプライベートにするか、プロテクトにします。|
|[CA2231:ValueType.Equals のオーバーライドで、演算子 equals をオーバーロードします](ca2231.md)|値型は、`Object.Equals` をオーバーライドしていますが、等値演算子を実装していません。|
|[CA2234:文字列の代わりに System.Uri オブジェクトを渡します](ca2234.md)|"uri"、"URI"、"urn"、"URN"、"url"、または "URL" という名前を持つ文字列パラメーターが指定されているメソッドに対して、呼び出しが行われました。  そのメソッドの型宣言に対応するメソッドのオーバーロードが存在し、それに対して <xref:System.Uri?displayProperty=fullName> パラメーターが指定されています。|
|[CA2235:すべてのシリアル化不可能なフィールドを設定します](ca2235.md)|シリアル化できない型のインスタンス フィールドが、シリアル化できる型で宣言されています。|
|[CA2237:ISerializable 型を SerializableAttribute に設定します](ca2237.md)|型が共通言語ランタイムでシリアル化できると認識されるようにするには、型を SerializableAttribute 属性でマークする必要があります。型が `ISerializable` インターフェイスの実装を通じてカスタムのシリアル化ルーチンを使用している場合でも、マークする必要があります。|
|[CA2241:書式設定メソッドに正しい引数を提供](ca2241.md)|<xref:System.String.Format%2A?displayProperty=nameWithType> に渡される引数 format に、各オブジェクトの引数に対応する書式指定項目が含まれていません (その逆も考えられます)。|
|[CA2242:NaN に対して正しくテストします](ca2242.md)|この式は、`Single.Nan` または `Double.Nan` に対して値をテストします。 `Single.IsNan(Single)` または `Double.IsNan(Double)` を使用して値をテストします。|
|[CA2243:属性文字列リテラルは、正しく解析する必要があります](ca2243.md)|属性のリテラル文字列パラメーターが URL、GUID、またはバージョンとして正しく解析されません。|
|[CA2244: インデックス付き要素の初期化を重複させません](ca2244.md)|オブジェクト初期化子に、定数インデックスが同じインデックス付き要素の初期化子が複数あります。 最後の初期化子を除くすべての初期化子は冗長です。|
|[CA2245: プロパティをそれ自体に割り当てません](ca2245.md)|プロパティが誤ってそれ自体に割り当てられました。|
|[CA2246: 同じステートメントにシンボルとそのメンバーを割り当てません](ca2246.md)|同じステートメントでシンボルとそのメンバー、つまりフィールドまたはプロパティを代入することは推奨されていません。 メンバー アクセスが代入前のシンボルの古い値を使用するのか、このステートメントの代入からの新しい値を使用するのかが明確ではありません。|
|[CA2247: TaskCompletionSource コンストラクターに渡される引数は、TaskContinuationOptions 列挙型ではなく、TaskCreationOptions 列挙型にする必要があります](ca2247.md)|TaskCompletionSource には、基になるタスクを制御する TaskCreationOptions を使用するコンストラクターと、そのタスクに格納されているオブジェクトの状態を使用するコンストラクターがあります。  TaskCreationOptions の代わりに TaskContinuationOptions を誤って渡すと、呼び出しでオプションが状態として処理されます。|
|[CA2248: 正しい 'enum' 引数を 'Enum.HasFlag' に指定します](ca2248.md)|`HasFlag` メソッドに引数として渡された列挙型が呼び出し元の列挙型と異なります。|
|[CA2249:String.IndexOf の代わりに String.Contains を使用することを検討します](ca2249.md)|部分文字列が存在するかどうかを確認するために結果を使用する `string.IndexOf` の呼び出しは、`string.Contains` で置き換えることができます。|
